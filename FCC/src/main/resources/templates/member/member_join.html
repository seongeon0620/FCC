<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from demos.adminmart.com/premium/bootstrap/modernize-bootstrap/package/html/main/authentication-register2.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Aug 2023 15:08:46 GMT -->
<head>
    <!--  Title -->
    <title>회원가입</title>
    <!--  Required Meta Tag -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="handheldfriendly" content="true" />
    <meta name="MobileOptimized" content="width" />
    <meta name="description" content="modernize" />
    <meta name="author" content="" />
    <meta name="keywords" content="Mordenize" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--  Favicon -->
    <link rel="shortcut icon" type="image/png" href="https://demos.adminmart.com/premium/bootstrap/modernize-bootstrap/package/dist/images/logos/favicon.ico" />
    <!-- Core Css -->
    <link  id="themeColors"  rel="stylesheet" href="/css/style.min.css" />
  </head>
  <body>
    <!-- Preloader -->
  
    <!--  Body Wrapper -->
    <div class="page-wrapper" id="main-wrapper" data-layout="vertical" data-sidebartype="full" data-sidebar-position="fixed" data-header-position="fixed">
      <div class="position-relative overflow-hidden radial-gradient min-vh-100 d-flex align-items-center justify-content-center">
        <div class="d-flex align-items-center justify-content-center w-100">
          <div class="row justify-content-center w-100">
            <div class="col-md-8 col-lg-6 col-xxl-3">
              <div class="card mb-0">
                <div class="card-body">
                  <a href="index-2.html" class="text-nowrap logo-img text-center d-block mb-5 w-100">
                    <img src="https://demos.adminmart.com/premium/bootstrap/modernize-bootstrap/package/dist/images/logos/dark-logo.svg" width="180" alt="">
                  </a>

                  <form name="myform" id="myform">
					  <div class="mb-3">
                      <label for="exampleInputEmail1" class="form-label">닉네임</label>
                      <input type="text" class="form-control" id="mem_nickname" name="mem_nickname" aria-describedby="textHelp">
                    </div>
                    <div class="mb-3">
                      <label for="exampleInputEmail1" class="form-label">아이디</label>
                      <input type="text" class="form-control" id="mem_name" name="mem_name" aria-describedby="textHelp">
                      <button class="btn btn-success" type="button" id="btnIdcheck">중복체크</button>
                      	<span id="resultid"></span>
                    </div>
                    <div class="mb-4">
                      <label for="exampleInputPassword1" class="form-label">비밀번호</label>
                      <input type="password" class="form-control" id="mem_password" name="mem_password">
                    </div> 
                    <div class="mb-4">
                      <label for="exampleInputPassword2" class="form-label">비밀번호 확인</label>
                      <input type="password" class="form-control" id="mem_passwordChk" name="mem_passwordChk">
                      <button class="btn btn-success" type="button" id="btnpasswordcheck">중복체크</button>
						<span id="result"></span>
                    </div>      
                    <div class="mb-3">
                      <label for="exampleInputEmail1" class="form-label">이메일</label>
                      <input type="text" class="form-control" id="mem_email" name="mem_email" aria-describedby="emailHelp">
                      <input type="text" class="form-control" id="domain" name="domain"aria-describedby="emailHelp">
					    <select class="select" name="select_domain" id="select_domain" onclick="select_domains(this.value)">
					    	<option value="">-선택-</option>
					    	<option value="@naver.com">@naver.com</option>
					    	<option value="@gmail.com">@gmail.com</option>
					    </select>
                    </div>     
                                                
                    <button type="button" class="btn btn-primary w-100 py-8 mb-4 rounded-2" id="btnRegister">등록</button>&nbsp;&nbsp;
                    <div class="d-flex align-items-center">
                      <p class="fs-4 mb-0 text-dark">Already have an Account?</p>
                      <a class="text-primary fw-medium ms-2">로그인</a>                
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!--  Import Js Files -->
    <script src="/libs/jquery/dist/jquery.min.js"></script>
    <script src="/libs/simplebar/dist/simplebar.min.js"></script>
    <script src="/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <!--  core files -->
    <script src="/js/app.min.js"></script>
    <script src="/js/app.init.js"></script>
    <script src="/js/app-style-switcher.js"></script>
    <script src="/js/sidebarmenu.js"></script>
    
    <script src="/js/custom.js"></script>
  </body>

<!-- Mirrored from demos.adminmart.com/premium/bootstrap/modernize-bootstrap/package/html/main/authentication-register2.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Aug 2023 15:08:46 GMT -->
</html>
<script>
	function select_domains(sd) {
		$("#domain").val(sd);

}	
</script>

<script>
//document.ready 생략
$(()=>{
	$("#btnIdcheck").click(()=>{
		let mem_name = $("#mem_name").val(); 
		if(mem_name==''){
			document.getElementById('resultid').innerHTML = '아이디를 입력하세요.';
			document.getElementById('resultid').style.color = 'red';
			exit;
		}
		$.ajax({
			url:"/member/idcheck",
			data:{"mem_name":mem_name},
			dataType:"json",
			method:"get"
		})
		.done((res)=>{
			if(res.result=="success"){
				document.getElementById('resultid').innerHTML = '사용 가능한 아이디입니다.';
				document.getElementById('resultid').style.color = 'green';
			}else{
				document.getElementById('resultid').innerHTML = '이미 사용중인 아이디입니다.';
				document.getElementById('resultid').style.color = 'red';
			}
		})
		.fail((res,error,status)=>{})
	})
});
</script>
<script>
	//유효성 검사
	if(document.getElementById("mem_name").value==""){
		alert('아이디를 입력해주세요');
		return false;
	}
	
</script>
<script>
	$("#btnRegister").click(()=>{
		
		
		if(document.myform.mem_nickname.value==""){ 
		alert("닉네임을 입력하세요");         
		document.myform.mem_nickname.focus();     
		exit;
		}else if(document.myform.mem_name.value==""){
			alert("아이디 입력하세요");
			document.myform.mem_name.focus();
			exit;
			
		}else if(document.myform.mem_password.value==""){
			alert("비밀번호를 입력하세요");
			document.myform.mem_password.focus();
			exit;
			
		}else if(document.myform.mem_passwordChk.value==""){
			alert("비밀번호확인을 입력하세요");
			document.myform.mem_passwordChk.focus();
			exit;
			
		}else if(document.myform.mem_email.value==""){
			alert("이메일 입력하세요");
			document.myform.mem_email.focus();
			exit;
		}
		if(document.myform.mem_password.value!=document.myform.mem_passwordChk.value){	
		
		alert("비밀번호가 일치하지 않습니다.");
		document.myform.mem_password.focus();
		exit;		
		}
		
		let params = $("#myform").serialize();
		console.log(params);
		
		$.ajax({
			url:"/member/save",
			data:params,
			dataType:"json",
			method:"POST"
		})
		.done(res=>{
			if(res.result=="success"){
				alert("회원가입 성공");
				location.href="/member/login";
			}else{
				alert("회원가입이 실패하였습니다");
			}
		})
		.fail((res,error,status)=>{
			console.log(error);
		})
	});

</script>
<script>
	$("#btnpasswordcheck").click(()=>{
	
	var mem_password= document.getElementById('mem_password').value;
	var mem_passwordChk= document.getElementById('mem_passwordChk').value;
	var resultDiv = document.getElementById('result');


		if (mem_password== mem_passwordChk) {
			document.getElementById('result').innerHTML = '비밀번호가 일치합니다.';
			resultDiv.style.color = 'green';
		}else{
			document.getElementById('result').innerHTML = '비밀번호가 일치하지 않습니다.';
			resultDiv.style.color = 'red';
			}
		})
		
	
</script>